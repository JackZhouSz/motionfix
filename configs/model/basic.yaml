modelname: basic
_target_: src.model.base_diffusion.MD
latent_dim: 256
vae: true

ff_size: 1024
num_layers: 6
num_head: ${model.num_layers}
droupout: 0.1
activation: "gelu"
nvids_to_save: ${callback.render.nvids_to_save}
lr_scheduler: null # reduceonplateau, steplr

# diffusion related
diff_params:
  num_inference_timesteps: 100
  eta: 40
  guidance_scale: 7.5 #
  guidance_uncondp: 0.1 # 0.1 0.25
  predict_epsilon: false

condition: text
motion_branch: true
teacher_forcing: false
separate_latents: false

# data related
nfeats: 135


defaults:
  # diffusion stuff
  - diffusion_scheduler: scheduler
  - noise_scheduler: noise_scheduler

  - denoiser: denoiser

  # vae stuff
  - text_encoder: distilbert_enc
  - motion_encoder: actor
  - motion_decoder: actor
  - losses: basic
  - optim: adamw
  - /model/losses/function/recons@func_recons
  - /model/losses/function/recons@func_latent
  - /model/losses/function/kl@func_kl
